# 数据库配置
DATABASE_URL=postgres://rabbit:your_secure_password@localhost:5432/rabbit_lark

# Docker Compose 用（自动构建 DATABASE_URL）
POSTGRES_USER=rabbit
POSTGRES_PASSWORD=your_secure_password
POSTGRES_DB=rabbit_lark

# 连接池配置（可选）
DB_POOL_MAX=10                    # 最大连接数
DB_IDLE_TIMEOUT=30000             # 空闲超时（毫秒）
DB_CONNECT_TIMEOUT=5000           # 连接超时（毫秒）
DB_STATEMENT_TIMEOUT=10000        # 查询超时（毫秒）

# 飞书应用配置
FEISHU_APP_ID=cli_xxx
FEISHU_APP_SECRET=your_app_secret
FEISHU_ENCRYPT_KEY=your_encrypt_key  # 生产环境必须设置！不设置将禁用 webhook 签名验证

# 安全配置
API_KEY=your_api_key_here  # 可选（开发），生产环境必须设置（NODE_ENV=production 时强制要求）
NEXT_PUBLIC_ADMIN_PASSWORD=your_admin_password  # Web 管理后台登录密码（必须设置）
NEXT_PUBLIC_API_KEY=your_api_key_here           # Web 前端 API 认证（与 API_KEY 相同）
# REQUIRE_AUTH=true         # 开发环境中强制要求认证（默认 dev 跳过认证）

# CORS 配置
CORS_ORIGIN=https://your-domain.com  # 允许的跨域来源，默认 * (不限制)

# AI Agent 配置（单 agent 模式）
# Agent 接收消息的 endpoint
# 如果 Agent 运行在宿主机（如 OpenClaw），Docker 中使用：
#   AGENT_WEBHOOK_URL=http://host.docker.internal:18789
# 如果 Agent 在外部服务器：
#   AGENT_WEBHOOK_URL=https://your-agent.com/lark-webhook
AGENT_WEBHOOK_URL=https://your-agent.com/lark-webhook
AGENT_API_KEY=your_shared_secret                       # 可选，用于签名验证
AGENT_TIMEOUT_MS=30000                                 # 转发超时（毫秒）

# 内置机器人功能
ENABLE_BUILTIN_BOT=true  # 设为 false 禁用内置催办功能，只做消息转发

# 服务配置
API_BASE_URL=https://your-server.com  # 本服务的公网地址（用于 reply_via.api）

# 日志配置
LOG_LEVEL=info  # error, warn, info, debug
NODE_ENV=production
